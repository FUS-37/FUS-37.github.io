1.6采样率与比特率
=======

## 1.6.1采样率

再开始之前，我们先来重新审视一下数字信号。 对于无损的wav文件来说，你经常会看见两个参数：采样率和bit率（位深度）。而对于压缩后的mp3文件，则更多看到的是码率。

我们先来讲采样率，就是在1秒内均匀地采集一定数量的样本点，以此来记录信号的波形。采样的过程也是将模拟信号转变为数字信号的过程，连续的模拟信号被转化为离散的一系列的样本点，电脑再把每个样本点的样本值记录下来就ok了。

常见的采样率参数有两个：44100hz和48000hz。这是由于人耳的听觉范围是20~20000hz。根据奈奎斯特采用定律，当采样频率为信号频率的2倍时，可以将信号的信息完整地记录下来。这其他挺符合直觉的，回忆一下初中学过的五点作图法，要画出波的一个周期内的波形，对于人类来说甚至要打5个点，现在只要2倍不是很合理嘛。

其实根本的原因在于，以采样频率为48000hz为例，它的记录范围是-24000hz~24000hz。频率之所以会有负数，其实这里的“-1”本质上是复数i的平方。对于波而言，时常会使用它的复数形式来表示。一种观点认为，这里的负号并没有物理意义，仅仅是为了在数学上配平复数形式信号的虚数部分。还有一种观点认为频率为正时表示复数形式上的正方向，即逆时针旋转；频率为负时表示复数形式的反方向，即顺时针旋转。无论如何，由于有正负两个部分同时存在，所以才会要求采样频率为信号频率的2倍。

## 1.6.2比特率

然后就是比特率了。既然我们有了这一系列的样本点，接下来就是如何记录它们的值的问题了。对于计算机来说，数据都是2进制。常见的bit率有16bit和24bit，也就是说每个样本点是以16位和24位的1或0的形式记录的。对于波形来说存在正负，在计算机中常用开头的第一位表示正负。第一位为0，意味着这个样本值是正的；第一位为1，意味着这个样本值是负的。更进一步的说，负数的表示常用补数的形式。例如在4bit补数的规则下，10进制的1为0001，-1为1111。那么1+（-1）=0001+1111=1 0000，由于是4bit，忽略第五位的1，结果为0000=0。

还是以4bit为例，这次我们不考虑正负，那么能够记录的数字最大为1111=7，最小为0000=0。那么一个4bit的值的范围就是0~7。对应到波形上，就是0~7份单位电压。显然，如果样本点的位数越大，样本值可以取到的范围也就越大。对于音频来说，它的范围我们称为动态范围，也就是音量最大和最小的地方的差距。24bit的动态范围为144db，32bit的动态范围为196db。

上述的情况是定点音频，还存在一种浮点float的形式，常见的有24bit float和32bit float。简单来说它不再是连续地记录范围，而是将一个更大的范围划分为好多段。24bit float的前8位决定了这个点所在是哪一小段，后16位表示位定点值。假设这一段的起点的值为X，后16位的值为Y，那么这个点的值就为X+Y。虽然它不能无损地记录范围内的每一个值，但这样做无疑大大扩大的动态范围。因此这种情况常用于录音，尤其是外景的录音，以换取更大的动态范围和后期空间，并防止爆音。
